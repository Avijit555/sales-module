<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Order Page</title>
  <link rel="stylesheet" href="css/order.css"/>
  <link rel="icon" type="image/png" href="assets/favicon.ico">
</head>
<body>
  <!-- NAVBAR: left exactly as provided -->
  <nav class='navbar'>
    <div class="logo">
      <img src="assets/image.png" alt="Hemraj Group Logo">
    </div>
    <div class="dropdown">
      <button class="dropbtn">Dashboard ▾</button>
      <div class="dropdown-content">
        <a href="index.html">Sales Dashboard</a>
        <a href="burdwan-stock-dashboard.html">Burdwan Stock Dashboard</a>
        <a href="katwa-stock-dashboard.html">Katwa Stock Dashboard</a>
      </div>
    </div>
    <div class="dropdown">
      <button class="dropbtn">Sales ▾</button>
      <div class="dropdown-content">
        <a href="order.html">Order</a>
        <a href="dispatch.html">Dispatch</a>
      </div>
    </div>
    <div class="dropdown">
      <button class="dropbtn">Stock ▾</button>
      <div class="dropdown-content">
        <a href="burdwan-stock.html">Burdwan Stock</a>
        <a href="katwa-stock.html">Katwa Stock</a>
      </div>
    </div>
  </nav>

  <main>
    <h1>Order Page</h1>

    <section class="card">
      <h2>Create / Edit Order</h2>

      <form id="order-form" class="form-grid" autocomplete="off">
        <!-- Row 1 -->
        <div>
          <label>Order ID</label>
          <input type="text" id="orderId" readonly />
        </div>

        <div>
          <label>Order Date</label>
          <input type="date" id="orderDate" required />
        </div>

        <div>
          <label>Customer Type</label>
          <select id="customerType">
            <option value="direct">Direct</option>
            <option value="broker">Broker</option>
          </select>
        </div>

        <div id="brokerNameWrap" style="display:none">
          <label>Broker Name</label>
          <input type="text" id="brokerName" placeholder="Broker name" />
        </div>

        <div>
          <label>Customer Name</label>
          <input type="text" id="customerName" placeholder="Customer name" required />
        </div>

        <div>
          <label>Rice Variant</label>
          <select id="riceVariant">
            <option value="basmati">Basmati</option>
            <option value="non-basmati">Non Basmati</option>
          </select>
        </div>

        <!-- Basmati -->
        <div id="basmatiBlock" style="display:none">
          <label>Basmati Product</label>
          <select id="basmatiProduct">
            <option value="">Select</option>
            <option value="hemraj_xxxl">Hemraj XXXL Biriyani Rice</option>
            <option value="shrivriddhi_xxl">Shrivriddhi XXL Biriyani</option>
          </select>
        </div>

        <div id="basmatiCategoryWrap" style="display:none">
          <label>Category</label>
          <select id="basmatiCategory">
            <option value="1kg">1kg</option>
            <option value="10kg">10kg</option>
            <option value="30kg">30kg</option>
          </select>
        </div>

        <!-- Non-Basmati -->
        <div id="nonBasmatiBlock" style="display:none">
          <label>Non-Basmati Product</label>
          <select id="nonBasmatiProduct">
            <option value="">Select</option>
            <option value="hemraj">Hemraj</option>
            <option value="shrivriddhi">Shrivriddhi</option>
          </select>
        </div>

        <div id="nonBasmatiRiceTypeWrap" style="display:none">
          <label>Rice Type</label>
          <select id="nonBasmatiRiceType">
            <option value="">Select</option>
          </select>
        </div>

        <div id="nonBasmatiRiceNameWrap" style="display:none">
          <label>Rice Name</label>
          <select id="nonBasmatiRiceName">
            <option value="">Select</option>
          </select>
        </div>

        <div id="packagingWrap" style="display:none">
          <label>Packaging Type</label>
          <select id="packagingType">
            <option value="Loose">Loose</option>
            <option value="T.C.">T.C.</option>
          </select>
        </div>

        <div>
          <label>Total Quantity (in Ton)</label>
          <input type="number" id="quantity" min="0" step="0.01" value="0" />
        </div>

        <div>
          <label>Rate (Per Ton)</label>
          <input type="number" id="rate" min="0" step="0.01" value="0" />
        </div>

        <div>
          <label>Cost (Qty * Rate)</label>
          <input type="number" id="cost" readonly />
        </div>

        <div>
          <label>Discount Type</label>
          <select id="discountType">
            <option value="0.025">2.5% discount</option>
            <option value="0.02">2% discount</option>
            <option value="0">0% discount</option>
          </select>
        </div>

        <div>
          <label>Amount (after discount)</label>
          <input type="number" id="amount" readonly />
        </div>

        <div>
          <label>Status</label>
          <select id="status">
            <option value="processing">Processing</option>
            <option value="confirmed">Confirmed</option>
            <option value="cancel">Cancel</option>
          </select>
        </div>

        <div id="cancelReasonWrap" style="display:none">
          <label>Cancel Reason</label>
          <input type="text" id="cancelReason" placeholder="Reason for cancellation" />
        </div>

        <div class="full actions">
          <button type="submit" class="btn btn-primary" id="saveBtn">Save Order</button>
          <button type="button" class="btn btn-ghost" id="resetBtn">Reset</button>

          <div style="margin-left:auto; display:flex; gap:8px">
            <button type="button" class="btn" id="exportCsv">Export CSV</button>
            <button type="button" class="btn" id="exportPdf">Export PDF</button>
          </div>
        </div>
      </form>
    </section>

    <section class="card" style="margin-top:18px">
      <div class="toolbar">
        <div class="filters">
          <label class="muted">From</label>
          <input type="date" id="filterFrom" />
          <label class="muted">To</label>
          <input type="date" id="filterTo" />
          <label class="muted">Customer</label>
          <input type="text" id="filterCustomer" placeholder="Customer name" />
          <button id="applyFilters" class="btn btn-ghost">Apply</button>
          <button id="clearFilters" class="btn btn-ghost">Clear</button>
        </div>
        <div class="muted">Total orders: <span id="totalCount">0</span></div>
      </div>

      <div style="overflow-x:auto">
        <div class="table-wrapper">
        <table id="ordersTable">
          <thead>
            <tr>
              <th>Order ID</th>
              <th>Date</th>
              <th>Customer</th>
              <th>Variant / Product</th>
              <th>Qty (T)</th>
              <th>Rate</th>
              <th>Amount</th>
              <th>Status</th>
              <th>Cancel Reason</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- jsPDF libs for PDF export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>

  <script src="js/order.js"></script>
</body>
</html>

